#!/bin/bash

function export_dir_to_path()
{
  export PATH=$PATH:$1
}

function export_dir_to_path_recursively()
{
  export PATH=$PATH$( find $1 -type d -printf ":%p" )
}

# work directories
REPOS="$HOME/repos"
EMBEDDED="$REPOS/embedded"
CORE="$REPOS/core"

LEGRAND="$REPOS/legrand"
FIRMWARE_BINARY="$LEGRAND/firmware-binary"

FIRMWARE_BITCLOUD="$EMBEDDED/firmware-bitcloud"
export_dir_to_path "$FIRMWARE_BITCLOUD/support/scripts"
export_dir_to_path "$FIRMWARE_BITCLOUD/Applications/Netatmo/modules/netatmo-log"
export_dir_to_path "$FIRMWARE_BITCLOUD/toolchain/arm-none-eabi/bin"
NLX_PATH_IN_FIRMWARE="Applications/Netatmo/Magellan"
# NLX_PATH_IN_FIRMWARE="Applications/Netatmo"
## tools that are not exported
GDB_BTC_PY="$FIRMWARE_BITCLOUD/toolchain/arm-none-eabi/bin/arm-none-eabi-gdb-py"

FIRMWARE="$EMBEDDED/firmware"
MAGELLAN="$EMBEDDED/magellan"
export_dir_to_path "$MAGELLAN/apps/user/nlg-stm32/model_parser"

MAGELLAN_RELEASES="$EMBEDDED/magellan-releases"

EMBEDDED_TOOLS="$CORE/embedded-tools"
export_dir_to_path_recursively "$EMBEDDED_TOOLS/Linux"

PYTHON_EMBEDDED_TOOLS="$CORE/python-emb-tools"
export_dir_to_path_recursively "$PYTHON_EMBEDDED_TOOLS/bin"
export_dir_to_path_recursively "$PYTHON_EMBEDDED_TOOLS/lib"

## my directories
MY_REPOS="$HOME/my_repos"

## paths in zfa configs
ZFA_CONFIGS="$MY_REPOS/zfa_configs"
export_dir_to_path "$ZFA_CONFIGS/"
export_dir_to_path_recursively "$ZFA_CONFIGS/scripts/"
SHELL_CONFIGS="$ZFA_CONFIGS/shell"
ZFA_CONFIGS_TOOLS="$ZFA_CONFIGS/tools"
export_dir_to_path "$ZFA_CONFIGS_TOOLS"

I3_CONFIGS="$ZFA_CONFIGS/i3"
export_dir_to_path "$I3_CONFIGS"
I3BLOCKS_CONFIG="$I3_CONFIGS/i3blocks"
I3BLOCKS_REPO="$I3BLOCKS_CONFIG/i3blocks" # submodule
I3BLOCKS_SCRIPTS_DIR="$I3BLOCKS_CONFIG/i3blocks-contrib" # submodule
export_dir_to_path_recursively "$I3BLOCKS_SCRIPTS_DIR"

## scripts needed as shell vars (for i3)
LOCK_SCRIPT="$ZFA_CONFIGS/scripts/lock.sh"
WALLPAPER_SCRIPT="$ZFA_CONFIGS/scripts/wallpaper.sh"
MONITORS_SCRIPT="$ZFA_CONFIGS/scripts/monitor.sh"
COMPILE_I3_CONFIG_SCRIPT="$I3_CONFIGS/compile-i3-configs.sh"

## third party
COOL_PUBLIC_REPOS="$MY_REPOS/cool_public_repos"
FORKS="$COOL_PUBLIC_REPOS/forks"
ANDROID_TOOLS="$COOL_PUBLIC_REPOS/android"
export_dir_to_path_recursively "$ANDROID_TOOLS"

PROJECTS="$MY_REPOS/projects"

ZFA_WORK_TOOLS="$MY_REPOS/zfa_work_tools"
export_dir_to_path $ZFA_WORK_TOOLS
GDB_SCRIPT="$ZFA_WORK_TOOLS/gdb_scripts/main.gdb"
WORK_SHELL="$ZFA_WORK_TOOLS/shell"

## misc
FLASH_SCRIPT="$ZFA_SCRIPTS/tmp/flash_script.jlink"
RESET_SCRIPT="$ZFA_SCRIPTS/tmp/reset_script.jlink"
DUMP_SCRIPT="$ZFA_SCRIPTS/tmp/dump_script.jlink"

# NLX files with different last letter (NLF NLT NLP ..) without gateway
NLX_products=NL[FLMPTVCD]

GIT_REPOS=(
  ZFA_CONFIGS
  ZFA_WORK_TOOLS
  )